import { Callout, Steps } from 'nextra-theme-docs';

## Chatbot settings 

Here you can change the parameters to customize your chatbot and its behavior.  

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/c02ece42-841e-43d0-a9b7-6005a05821a6)




### General settings
Here, you can control the availability of the chatbot and whether to include the links to the responses.

#### Disable the plugin temporarily

Selecting this option disables the AI bot, so you can speak to your customers without its interruptions.

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/dea7ff7f-994b-406b-bd1a-29495dbd51ec)


#### Data source information
If you want the chatbot to include the most relevant links in its response, check the *Show source links in response* checkbox.
<Callout>
This checkbox is turned off by default.
</Callout>

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/59aeb457-fe43-4eb3-a9be-85f402c633db)


This is how the response with links looks:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/03342743-2538-42df-890e-7c4e8f291c65)


<Callout>Please note, we provide only the links but Crisp chatbox renders the first one based on the metatags that can be found on the webpage.</Callout>

We include 5 found links, the first one is marked as "Source", and others as "Additional sources" - by default. The titles are automatically translated into the user's language:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/dfd9aa31-5ade-476f-aef8-5df7bd6291c0)

You can change the number of shown links:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/0a88c336-9e24-444e-86a0-5483d78563dc)

Both numbers could be zero, and no links will be shown. By default, if you don't change this setting, we show 1 main link and 3 additional links.

#### Collect button click statistics
You can select this option to allow our system to collect the stats on the button clicks.

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/8e3181d0-afe1-45d4-b468-291121dbc98e)

You can review the statistics for your project in [the corresponding tab](https://www.enumhq.com/docs/guide/projects#statistics).

### Widget settings
Here, you specify how your chatbot and its responses look:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/01019f79-136d-400b-99e0-d6262904c891)


#### Chatbot icon

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/a1401d5d-9943-48f5-ab64-e7d62623d04c)

  You may choose from 3 options:
  
  - the default Crisp userpic
  - a "cute" Enum robot userpic
  - your own URL to a userpic.
  
  Default Crisp userpic:
  
![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/5a903c4f-f974-45e6-96fd-aed450d30ac5)

  
  a cute robot:
  
![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/8f669673-8ed4-4646-b89a-7281b4362766)

  
  your own URL:
  
![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/e57db858-3b7d-44be-8a5d-91a24645ffbf)

#### Chatbot name
This name is shown as grey text beside the chatbot's icon. You may leave it empty or enter your chatbot/company name.

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/9c6306a6-ff8f-4572-b86f-ab247c503d01)

### Custom behaviour & Automation

Here are 6 sections, all collapsed by default:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/ca10a61c-6828-4491-bd19-696bbdcac84c)



#### Chatbot in session
Here you define your chatbot's automatic behaviour during the sessions:

![image](https://github.com/user-attachments/assets/855eddd0-8cbe-4a8a-88d5-c5eab18d5dbb)

**Wait to reply**

Check this flag if you want the chatbot to reply *only* after the user gives their phone number or email. Use this option **only** if you ask for contact data in Crisp. The example of the Crisp settings:

![image](https://github.com/user-attachments/assets/35a8eb9e-393f-4e80-a8ef-2f728403c60a)

These settings can be found in the Settings --> Website settings --> Chatbot & Email Settings --> Chatbox behavior (in the Crisp dashboard).

**Pass the user name to the chatbot, when known**

If you collect email during the conversation (this setting can be found on your website on Crisp) Crisp will extract the name from email.

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/f340951b-34b7-4c4f-9c8b-57b538c63187)

This name be passed to the chatbot if you set up this setting on.

<Callout>
  To make the chatbot use the name when known please provide the corresponding instruction like "Always use the user name when you know it."
</Callout>

Here is how the chatbot is using the name:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/4aefa83e-bca3-4697-9178-df662d00cf75)


**Send this message when a conversation starts**

When a user starts the conversation and says hi, you may want the chatbot to greet the user back. Enter your message in the field if you want this behavior.

<Callout>
  Why to use the greeting message? You may want to let your user know that they are talking with AI, not a human (it's not always obvious).
</Callout>

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/4a158665-cbc1-4cb7-b9f8-bdbe1db40c67)


**Pause the chatbot when agent joins the conversation**

If this checkbox is checked, then every time when you or your agents join a conversation with the chatbot, the chatbot will be quiet.

<Callout>
All the paused sessions can be found on the *Paused sessions* tab, more information is below. To re-run the session in semi-automatic mode, use the next option.
</Callout>

**Re-run chatbot when conversation is resolved**

This indicates to re-run the chatbot when you click the "Mark this conversation as resolved" in the Crisp dashboard:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/12941fcf-34e9-4449-b81b-bc3a03fa1d29)


**Send this message when re-running chatbot**

It's a good idea to let your user know that the chatbot is running again so they can enjoy your support 24/7.


**Set Crisp conversation segment when a session starts**

You can assing one or more Crisp segments when the conversation starts. It may be very useful for a statistical analysis later, for instance, to distinguish conversations with chatbot from others. You add one or more segments separated by commas:

![image](https://github.com/user-attachments/assets/296bef94-569a-480d-bc82-a25b571bbbac)



#### User requests human assistance
Specify what the chatbot should do when user wants to talk to human beings.

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/a17221dd-3dc2-4a3e-b704-1a50c8fe5780)


1. *Send this message when user requests for human*

  Enter a message you want to be sent to the chat when a user requests human assistance. Usually, it's just a piece of information that humans will join the conversation soon.

2. *Pause the chatbot when user requests human assistance*

Turn this checkbox on if you want the chatbot to be quiet after a user requests for assistance.

4. *Notify me when user requests assistance*

Currently, you can only send email(s) to notify you that somebody waits for you (we will add more notification channels in the future).

To add an email, click the "Add a notification" button, enter email, and press the Return button.

Here is the example notification sent by email:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/5cfe7f85-59ad-432d-9c21-8f597e06f353)


#### Coordinate the chatbot with Crisp Triggers
If you use Crisp triggers, you may consider using these options to avoid duplicating answers (from triggers and the chatbot).

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/4057fe35-3a67-47da-88f2-123dc0ac879c)

1. *Wait for Crisp Trigger response*
Check this option to make the chatbot wait for the trigger's response. If not checked, the chatbot will answer without waiting.

2. *Wait time (in seconds) for Crisp Trigger response*
Specify how many seconds to wait. From our experience, 4 seconds is good but you may find it too fast or too slow, depending on your trigger's parameters.

#### Add standard action buttons to the messages

You can add several buttons to your messages. Below each option, there are preview buttons where you can see how they would look in your chatbox.

<Callout>
  Please note, that if you show a button, it **must** have a text label (Crisp doesn't allow buttons without text). So, if you remove the text from a field, the default label will be used instead.
</Callout>

This is how the buttons look for a user:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/7ef6f23e-c2fc-4513-bd6e-90ab6efe8d81)


##### 1. Feedback buttons
They allow a user to give your chatbot feedback: good or bad. You can enter your own text labels for both buttons:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/3af03f25-ae0e-4513-9144-0881fc5f360c)

In your Crisp dashboard, you will see the feedback:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/a6032ef0-0819-459b-a6a5-19df6254a091)


##### 2. Mark resolved button
This button allows a user to mark the conversation resolved (or closed). 

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/448ddd20-d3c8-4cbc-81c3-8ada95b1eea5)

When a user clicks the button, it's resolved what you see in your Crisp dashboard:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/3fa88034-f647-42e5-b1b9-2decb1af4553)

##### 3. Request a human operator

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/de7e2095-056f-403f-af46-db5af6d8608f)

When a user clicks this button, the corresponding response and notification will be sent if you set them up as described [here](https://www.enumhq.com/docs/chat-plugins/crisp/crisp-settings#user-requests-human-assistance).

<Callout>
  Sometimes you can see the colorful icons, sometimes not. It all depends on the browser. For example, in Firefox it will look differently:
  
  
  ![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/94287b28-295c-42f7-bbb6-d4c1e4c21bfe)

</Callout>

#### Custom buttons
You can define to show the custom buttons depending on the class of user request. By "class", we mean some "mood of the query". For example, the "How are you?" query can be classified as just a "query" and the "Why is that? I don't like it!" can be classified as "frustration". We have bunch of predefined classes:

- Human assistance request
- greeting
- thanking
- apologizing
- question
- welcoming
- opinion
- query
- user wants help.

Now, you can use one of our predefined classes or add your own class and assign the corresponding button to it. The button could have the following properties:

- label
- icon (emoji)
- value (for inner using)
- URL of a page to show on click (that can be shown right in the Crisp chat, or opened in a separate browser tab).

Let's see how it works.

1. Click the *Add a rule* button:

![image](https://github.com/user-attachments/assets/65fe47e3-a134-42bf-ad5a-2b45b7d4755e)


2. A new rule is added to the **end** of the rules:

![image](https://github.com/user-attachments/assets/1dea0ac3-78e3-4acf-917c-0b7303d39b61)

3. Select from the class of query "thanking" and then add two standard buttons:

![image](https://github.com/user-attachments/assets/a0102371-6e24-4868-8d5a-99d231a076d4)

Save the settings and let's test it in our chatbot:

![image](https://github.com/user-attachments/assets/5facf733-451b-4207-aadd-31a8bac9edb7)

<Callout>
  You can add multiple classes to one rule.
</Callout>

4. Now, let's create our own class and add a custom button on it. Say, our website is about technical stuff and we want a button to be shown as soon as a question is about drones. This time, add a custom button instead of a standard one:

![image](https://github.com/user-attachments/assets/de1c214b-370b-40f8-8501-ea54c10b4ea0)

Let's test it in the chatbot:

![image](https://github.com/user-attachments/assets/2071cb68-93c1-420d-bd61-a5f3d6f89ca2)

After scrolling to the end of the response, we see our button:

![image](https://github.com/user-attachments/assets/dfff9231-b51d-47f9-b962-5f2aacc8ba8f)

5. Let's make the button to redirect to the website about drones, for example to this website: https://dronelaunchacademy.com/resources/how-do-drones-work/


Just add this URL and make sure that the *Where to show* parameter is "in the chatbox":

![image](https://github.com/user-attachments/assets/ed1e6cd5-249b-4abd-867b-e34b5d9ccec9)

So, now, when you click the button, this page will be shown right in the chat (to return back, click the button with arrow in the top left corner):

![image](https://github.com/user-attachments/assets/b1a08ce8-0431-4099-bfd2-1723cbad10a6)

##### Some ideas on using this redirection feature
Why would you use this feature? It's actually can enrich your users' experience and collect more valuable information for you and your users. For example, you can :

- redirect to the feedback website with the form to collect some data
- show users some information from other pages (like weather report, flight's stats, or anything else)
- create a ticket
- participate in a poll
- even sell goods.

#### Automation based on a schedule
You can specify the time slots where you want the chatbot to be quiet or active. Click the *Open schedule calendar* to create a schedule:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/aa2ab4d5-9a4b-4653-9eee-5527bb4d6063)

Open the calendar:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/e4c95d42-19eb-4bcb-a7a3-0ea4333db1ea)

First, decide if you want to specify the timeslots for your chatbot to be active, or paused (select what is less), then double-click in the corresponding place to create a time slot.
Specify the parameters for your time slot:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/ecf1ae27-a1e3-4c4f-880e-f2160b71f24d)

To create a series of similar timeslots, just select the *Repeat* value for the corresponding dropdown and specify the recurrency parameters. After you've done it, save the settings and your calendar will be updated. You can change the action for the timeslots as well as the series parameters - just double-click on a time slot. 

Also, you can change a separate slot: use your mouse to drag the start and end, or double-click to change the parameters.

Here, an example of the schedule:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/aa5287df-1d0c-45b9-af04-f05650de7733)

Click the *Ok* to close the schedule window, then the *Save changes* button.

#### Control the chatbot via Crisp bot, or from JavaScript

If you want that the chatbot doesn't start answering immediately, you may pause it until it gets the corresponding signal. The signal can be sent by the Crisp chatbot as described in the article [about the integration of Enum and Crisp chatbots, or controlling it via JavaScript](https://www.enumhq.com/docs/chat-plugins/crisp/communication-with-chatbot).

If you don't want such behavior leave the default option (the first one) as is:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/e87c2d6e-3a49-46ce-a4d9-074690bba97e)


### Paused sessions

Here you will see data regarding any chat sessions in which AI has been deactivated due to an agent joining the conversation (if you have the setting toggled on).

![](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/6e0b35a3-6119-42b1-a7fd-6a32608238c8)



Use the chat page button to jump into the active chat inside Crisp:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/931a5c90-bdd4-4dab-b540-805dc8fc1e33)



Click "Run again" to reactive the AI in the paused session:

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/b6ab0205-79c9-45e3-a437-6dbd1b3f2380)


The AI will resume answering questions; however, if you join the conversation again, the AI chatbot will be deactivated again.

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/0eb4d116-c527-46bd-9fc8-c41d4b97f72e)

### Crisp integrations

We support most of Crisp's integrations. All you need to do to integrate our chatbot into Crisp's integrations is to set it up with Crisp, and then select the corresponding integration in this tab:

![image](https://github.com/user-attachments/assets/fd10281d-2f54-49d0-977e-9e8fe1c8f2e0)


### The live test
You can test your chatbot right from the Enum dashboard before exposing it to the public. Just click the *Show Crisp chatbox button* and you will see the button on the right bottom corner (wait several seconds if it does not appear immediately). Click on it and interact in the same way as if it's placed on your website.

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/37721f71-adf2-4be3-8b4c-e226f819f46b)

Here, you also can specify whether you want the chatbot to run everywhere or only here, in this test environment. By default, this switch is off but if you set it on, the chatbot will work only here. 

![image](https://github.com/StubbornDeer/enum-docs-nextra/assets/91156314/784b6f25-5b80-48a1-b228-527f0b4849e2)


<Callout>
This setting is very helpful if you already have your Crisp chatbox installed and you want to test the chatbot before making it production available.
</Callout>
